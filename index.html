<!DOCTYPE html>
<html>
<head>
<title>MAHIRA TELRCOM - REDMI</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

<style>

body{
font-family: Arial;
background: linear-gradient(135deg,#eef2f7,#dfe6ee);
padding:10px;
margin:0;
}

/* Floating Header */
.header{
position:sticky;
top:0;
background:white;
padding:14px;
border-radius:0 0 14px 14px;
box-shadow:0 4px 10px rgba(0,0,0,0.08);
z-index:99;
}

.title{
font-size:20px;
font-weight:bold;
text-align:center;
}

.count{
text-align:center;
font-size:13px;
color:#666;
margin-top:4px;
}

/* Search */
input{
width:100%;
padding:12px;
margin-top:10px;
border-radius:12px;
border:1px solid #ddd;
font-size:15px;
outline:none;
}

/* Card */
.card{
background:white;
padding:14px;
margin:12px 0;
border-radius:14px;
box-shadow:0 6px 14px rgba(0,0,0,0.08);
}

.model{
font-weight:bold;
font-size:17px;
margin-bottom:8px;
}

/* Price box */
.priceBox{
display:inline-block;
padding:10px 14px;
border-radius:12px;
background:#eef7ef;
box-shadow:0 4px 10px rgba(0,0,0,0.08);
margin-top:6px;
font-size:14px;
line-height:1.6;
}

.priceLabel{
font-size:11px;
color:#777;
display:block;
margin-bottom:3px;
}

/* Color styles */
.oled{
color:#0a8f2f;
font-weight:bold;
}

.copy{
color:#2f6df6;
font-weight:bold;
}

.stock{
color:red;
font-weight:bold;
}

/* Box tag */
.box{
display:inline-block;
margin-left:10px;
padding:8px 14px;
border-radius:12px;
background:#dfe8ff;
color:#2d5bff;
font-size:13px;
box-shadow:0 4px 10px rgba(0,0,0,0.08);
}

</style>
</head>

<body>

<div class="header">
<div class="title">MAHIRA TELRCOM - REDMI</div>
<div class="count" id="count">Loading...</div>

<input type="text" id="search" placeholder="Search model..." onkeyup="search()">
</div>

<div id="data"></div>

<script>

let sheetID = "1YsgG1Ly_yFgYdVaOtAFt7PQwm1OzusQ48tYmDPvqktg";
let url = "https://opensheet.elk.sh/" + sheetID + "/Sheet1";

let all=[];

fetch(url)
.then(r=>r.json())
.then(d=>{
all=d;
show(d);
document.getElementById("count").innerText="Total Models: " + d.length;
});

function formatPrice(text){

if(!text) return "ASK";

text = text.toUpperCase();

text = text.replace(/OLED/g,'<span class="oled">OLED</span>');
text = text.replace(/COPY/g,'<span class="copy">COPY</span>');
text = text.replace(/STOCK OUT/g,'<span class="stock">STOCK OUT</span>');

return text;
}

function show(d){
let html="";

d.forEach(x=>{

let model = x["Model"] || "";
let price = x["Price"] || "ASK";
let box = x["Box"] || x["BOX"] || x["Box "] || "";

html+=`
<div class="card">
<div class="model">${model}</div>

<div>
<div class="priceBox">
<span class="priceLabel">PRICE</span>
${formatPrice(price)}
</div>

${box ? `<span class="box">${box}</span>` : ""}
</div>

</div>
`;

});

document.getElementById("data").innerHTML=html;
}

function search(){
let s=document.getElementById("search").value.toLowerCase();

let f=all.filter(x=>
(x["Model"]+"").toLowerCase().includes(s)
);

show(f);
document.getElementById("count").innerText="Total Models: " + f.length;
}

</script>

</body>
</html>
